% The infobox package.
% Wed Jul 31 2013  Lars Kiesow <lkiesow@uos.de>

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{infobox}

\RequirePackage{tikz}
\usetikzlibrary{shapes}

\RequirePackage{calc}

%%%%
% First we build some signs for use with the boxed
%%

%   _
%  / \
% | ? |
%  \_/
\newcommand{\boxQuestionSign}{%
\begin{tikzpicture}[x=1cm,y=1cm]
	\node [draw, line width=2pt, inner sep=5pt, circle] at (0, 0) (question)
		{\Huge\bf ?};
\end{tikzpicture}}

%   _
%  / \
% | i |
%  \_/
\newcommand{\boxInfoSign}{%
\begin{tikzpicture}[x=1cm,y=1cm]
	\node [draw, line width=2pt, inner sep=5pt, circle] at (0, 0) (question)
		{\Huge\bf i};
\end{tikzpicture}}

%   / \
%  / | \
% /__Â°__\
\newcommand{\boxWarningSign}{%
\begin{tikzpicture}[x=1cm,y=1cm]
	\node [draw, line width=2pt, inner sep=1pt, regular polygon, regular polygon sides=3]
		at (0, 0) (question)
		{\Huge\bf !};
\end{tikzpicture}}

%%%%
% Define the SignBox itself
% Use it as:
% \signBox{SIGN,MESSAGE}
% \signBox[TITLE]{SIGN,MESSAGE}
%%
\newcommand{\signBox}[3][]%
{\medskip\noindent\ignorespaces%
\resizebox{2em}{!}{#2}%
\raisebox{2em-\baselineskip}{
\begin{minipage}[t]{\linewidth-4em}%
	#1\par%
	\vspace{-.7\baselineskip} \hrulefill\par%
	#3\par
	\vspace{-.6\baselineskip} \hrulefill
\end{minipage}}%
\medskip%
\par\noindent\ignorespacesafterend}

%%%%
% Define \questionBox, \infoBox and \warningBox
% Use as:
% \...Box[TITLE]{MESSAGE}
%%
\newcommand{\questionBox}[2][]{\signBox[#1]{\boxQuestionSign}{#2}}
\newcommand{\infoBox}[2][]{\signBox[#1]{\boxInfoSign}{#2}}
\newcommand{\warningBox}[2][]{\signBox[#1]{\boxWarningSign}{#2}}
